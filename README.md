# Autonomous AI Browser Agent

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–≥–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–æ–º. –†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **Planner/Worker** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö –∑–∞–¥–∞—á –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Accessibility Tree** –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, –∏–∑–±–µ–≥–∞—è —Ö—Ä—É–ø–∫–∏—Ö DOM-—Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤.

## üöÄ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ö–ª—é—á–µ–≤—ã–µ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

–í —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–µ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤–µ—Ä—Å—Ç–∫–∏:
=======
## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Language:** Python 3.12.3 (–≤—ã–±—Ä–∞–Ω –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è AI-—Ñ–∏—á).
- **Core:** Playwright (Async), OpenAI SDK.
- **Models:** gpt-5-mini.

* **üß† –ü–∞—Ç—Ç–µ—Ä–Ω Planner & Worker:**
    –ê–≥–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö, —Ä–∞–∑–¥–µ–ª—è—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ:
    * **Planner (–°—Ç—Ä–∞—Ç–µ–≥):** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ù–∞–π–¥–∏ —Å–∞–º—ã–π –¥–µ—à–µ–≤—ã–π iPhone 15 –Ω–∞ Wildberries") –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ü–µ–ø–æ—á–∫—É —à–∞–≥–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `set_plan`.
    * **Worker (–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å):** –í—ã–ø–æ–ª–Ω—è–µ—Ç —à–∞–≥–∏ –ø–æ –æ–¥–Ω–æ–º—É. –ï—Å–ª–∏ —à–∞–≥ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–µ–Ω –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑–º–µ–Ω–∏–ª—Å—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫—É –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏.

* **‚ö° –ù–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Accessibility Tree (No Raw DOM):**
    –í–º–µ—Å—Ç–æ –Ω–µ–Ω–∞–¥–µ–∂–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML –∏–ª–∏ CSS-—Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤, –∞–≥–µ–Ω—Ç —Å–∫–∞–Ω–∏—Ä—É–µ—Ç **Accessibility Tree** (–¥–µ—Ä–µ–≤–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏) —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≥–µ–Ω—Ç—É "–≤–∏–¥–µ—Ç—å" —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–∞–∫, –∫–∞–∫ –µ—ë –≤–∏–¥—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–∏ —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä—ã), –∏–≥–Ω–æ—Ä–∏—Ä—É—è –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ä—Å—Ç–∫–µ `<div>` –∏ `<span>`.

* **üõ°Ô∏è –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
    –°–ª–æ–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±—Ä–∞—É–∑–µ—Ä–æ–º —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é "Fall-through":
    1.  –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–ª–∏–∫ Playwright.
    2.  Force click (–µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–∫—Ä—ã—Ç).
    3.  JS-–∏–Ω—ä–µ–∫—Ü–∏—è (–∫–∞–∫ –∫—Ä–∞–π–Ω—è—è –º–µ—Ä–∞).
    *–ê–≥–µ–Ω—Ç —É–º–µ–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å–∫—Ä–æ–ª–ª–∏—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.*

* **üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (Memory Management):**
    –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (pruning) —Å –ø–æ–¥—Å—á–µ—Ç–æ–º —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ `tiktoken`. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Å—Å–∏—è—Ö.

## üõ† –°—Ç–µ–∫

* **Python 3.12+**
* **Playwright**
* **OpenAI API**
* **Rich**

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone <—Å—Å—ã–ª–∫–∞-–Ω–∞-–≤–∞—à-—Ä–µ–ø–æ>
    cd <–∏–º—è-–ø–∞–ø–∫–∏>
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—ã Playwright:**
    ```bash
    playwright install chromium
    ```

4.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
    –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
    ```env
    API_KEY=sk-proj-...       # –í–∞—à –∫–ª—é—á OpenAI –∏–ª–∏ OpenRouter
    MODEL_NAME=gpt-4o-mini    # –ò–ª–∏ gpt-4o / claude-3-5-sonnet
    HEADLESS=False            # False —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –±—Ä–∞—É–∑–µ—Ä
    ```

## üö¶ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
–ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ —Ç—Ä–µ–±—É–µ—Ç –≤—Ö–æ–¥–∞ –≤ –∞–∫–∫–∞—É–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ozon, Wildberries, –Ø–Ω–¥–µ–∫—Å), –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

```bash
python login.py
```

–ó–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –≤ –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è –±—Ä–∞—É–∑–µ—Ä–µ –∏ –Ω–∞–∂–º–∏—Ç–µ Enter –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫—É–∫–∏ –≤ auth.json.

### 2. –ó–∞–ø—É—Å–∫ –ê–≥–µ–Ω—Ç–∞
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª:

```bash
python main.py
```

–ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥:

"–ó–∞–π–¥–∏ –Ω–∞ Wildberries, –Ω–∞–π–¥–∏ Lego Technic –∏ –ø–æ–ª–æ–∂–∏ –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É." "–û—Ç–∫—Ä–æ–π HackerNews –∏ –ø–µ—Ä–µ—Å–∫–∞–∂–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏–∑ —Ç–æ–ø–∞."
=======
## üë®‚Äçüíª –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã
> User: "–ó–∞–π–¥–∏ –Ω–∞ –Ø–Ω–¥–µ–∫—Å –õ–∞–≤–∫—É –∏ –¥–æ–±–∞–≤—å 2 —Ö–æ—Ç–¥–æ–≥–∞"
> Agent: *–°–∫–∞–Ω–∏—Ä—É–µ—Ç -> –ò—â–µ—Ç -> –î–æ–±–∞–≤–ª—è–µ—Ç -> –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä–∑–∏–Ω—É -> –ì–æ—Ç–æ–≤–æ.*
